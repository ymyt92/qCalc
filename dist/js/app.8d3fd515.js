(function(){"use strict";var e={13:function(e,a,t){var s=t(2856),n=function(){var e=this,a=e._self._c;return a("div",{attrs:{id:"app"}},[e._m(0),a("QiMen")],1)},r=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"header"},[a("p",[e._v("奇门遁甲计算器")])])}],l=function(){var e=this,a=e._self._c;return a("el-form",{attrs:{size:"mini",model:e.qCalcForm,"label-position":"left"}},[a("div",{staticClass:"qCalc"},e._l(9,function(t){return a("div",{class:["square","s"+t]},[5!==t?[a("div",{staticClass:"cell c1"},[a("p",{staticClass:"sum"},[e._v(e._s(e.getSquareScore(t)))]),a("el-popover",{attrs:{placement:"right-end",title:"计分详情",width:"480",trigger:"click"}},[a("el-table",{attrs:{data:e.sumDetailObj[t],border:"",stripe:""}},[a("el-table-column",{attrs:{label:"类型",prop:"type"}}),a("el-table-column",{attrs:{label:"值",prop:"value"}}),a("el-table-column",{attrs:{label:"分数",prop:"score"}}),a("el-table-column",{attrs:{label:"备注",prop:"mean",width:"180"}})],1),a("i",{staticClass:"el-icon-view",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"cell c2"},[a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_shenZhu`],callback:function(a){e.$set(e.qCalcForm,`s${t}_shenZhu`,a)},expression:"qCalcForm[`s${s}_shenZhu`]"}},e._l(e.shenZhuMap,function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),a("div",{staticClass:"cell c3"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.qCalcForm[`s${t}_kongWang`],expression:"qCalcForm[`s${s}_kongWang`]"}],staticClass:"circle"}),a("el-popover",{attrs:{placement:"bottom",title:"配置",width:"200",trigger:"click","append-to-body":!1}},[3===t?a("el-form-item",{attrs:{label:"遁甲","label-width":"40px"}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.setDunjia},model:{value:e.dunjia,callback:function(a){e.dunjia=a},expression:"dunjia"}},e._l(["戊","己","庚","辛","壬","癸"],function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1):e._e(),a("el-form-item",{attrs:{label:"空亡"}},[a("el-radio-group",{model:{value:e.qCalcForm[`s${t}_kongWang`],callback:function(a){e.$set(e.qCalcForm,`s${t}_kongWang`,a)},expression:"qCalcForm[`s${s}_kongWang`]"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:void 0}},[e._v("否")])],1)],1),a("i",{staticClass:"hai-setting el-icon-setting",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"cell c4"}),a("div",{staticClass:"cell c5"},[a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_tianShi`],callback:function(a){e.$set(e.qCalcForm,`s${t}_tianShi`,a)},expression:"qCalcForm[`s${s}_tianShi`]"}},e._l(e.tianShiMap,function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("span",{staticClass:"square-type"},[e._v(e._s(e.squareNameMap["s"+t]))])],1),a("div",{staticClass:"cell c6"},[a("el-form-item",[a("el-cascader",{attrs:{options:e.zs12Casc,props:{checkStrictly:!0},clearable:""},model:{value:e.qCalcForm[`s${t}_zs12`],callback:function(a){e.$set(e.qCalcForm,`s${t}_zs12`,a)},expression:"qCalcForm[`s${s}_zs12`]"}})],1),a("el-form-item",{class:e.getTianGanColor(t,e.qCalcForm[`s${t}_sky`])},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_sky`],callback:function(a){e.$set(e.qCalcForm,`s${t}_sky`,a)},expression:"qCalcForm[`s${s}_sky`]"}},e._l(e.tianganMap,function(s,n){return a("el-option",{key:n,class:e.getTianGanColor(t,n),attrs:{label:n,value:n}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(n))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(s))])])}),1)],1)],1),a("div",{staticClass:"cell c7"}),a("div",{staticClass:"cell c8"},[a("el-form-item",{class:{red:e.menPoMap["s"+t].includes(e.qCalcForm[`s${t}_renHe`])}},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_renHe`],callback:function(a){e.$set(e.qCalcForm,`s${t}_renHe`,a)},expression:"qCalcForm[`s${s}_renHe`]"}},e._l(e.renHeMap,function(s,n){return a("el-option",{key:n,class:{red:e.menPoMap["s"+t].includes(n)},attrs:{label:n,value:n}})}),1)],1)],1),a("div",{staticClass:"cell c9"},[a("el-form-item",{class:e.getTianGanColor(t,e.qCalcForm[`s${t}_earth`])},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_earth`],callback:function(a){e.$set(e.qCalcForm,`s${t}_earth`,a)},expression:"qCalcForm[`s${s}_earth`]"}},e._l(e.tianganMap,function(s,n){return a("el-option",{key:n,class:e.getTianGanColor(t,n),attrs:{label:n,value:n}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(n))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(s))])])}),1)],1)],1)]:e._e()],2)}),0)])},i=[],o=(t(4114),t(8111),t(1701),{data(){return{qCalcForm:{},squareScoreMap:{},sumDetailObj:{},shenZhuMap:{"值符":{mean:"吉神",score:20},"太阴":{mean:"吉神",score:20},"六合":{mean:"吉神",score:20},"九天":{mean:"吉神",score:20},"腾蛇":{mean:"凶神",score:0},"白虎":{mean:"凶神",score:0},"玄武":{mean:"凶神",score:0},"九地":{mean:"吉神",score:0}},tianShiMap:{"天任星":{mean:"吉星",score:20},"天冲星":{mean:"吉星",score:20},"天辅星":{mean:"吉星",score:20},"天心星":{mean:"吉星",score:20},"天禽星":{mean:"吉星",score:20},"天蓬星":{mean:"凶星",score:0},"天英星":{mean:"凶星",score:0},"天芮星":{mean:"凶星",score:0},"天柱星":{mean:"凶星",score:0}},renHeMap:{"休门":{mean:"吉门",score:30},"生门":{mean:"吉门",score:30},"开门":{mean:"吉门",score:30},"杜门":{mean:"平门",score:0},"景门":{mean:"平门",score:0},"死门":{mean:"凶门",score:0},"惊门":{mean:"凶门",score:0},"伤门":{mean:"凶门",score:0}},tianganMap:{"甲":"阳木","乙":"阴木","丙":"阳火","丁":"阴火","戊":"阳土","己":"阴土","庚":"阳金","辛":"阴金","壬":"阳水","癸":"阴水"},zs12Map:{"长":{mean:"上升期",score:30},"沐":{mean:"上升期",score:30},"冠":{mean:"上升期",score:30},"临":{mean:"上升期",score:30},"旺":{mean:"上升期",score:30},"衰":{mean:"衰退期",score:20},"病":{mean:"衰退期",score:20},"死":{mean:"衰退期",score:20},"墓":{mean:"衰退期",score:0},"绝":{mean:"恢复期",score:10},"胎":{mean:"恢复期",score:10},"养":{mean:"恢复期",score:10}},wuxing:["木","火","土","金","水"],squareTypeMap:{s1:"木",s2:"火",s3:"土",s4:"木",s5:"土",s6:"金",s7:"土",s8:"水",s9:"金"},squareNameMap:{s1:"巽",s2:"离",s3:"坤",s4:"震",s5:"中",s6:"兑",s7:"艮",s8:"坎",s9:"乾"},menPoMap:{s1:["开门","惊门"],s2:["休门"],s3:["伤门","杜门"],s4:["开门","惊门"],s6:["景门"],s7:["伤门","杜门"],s8:["生门","死门"],s9:["景门"]},jiXingMap:{s1:["壬","癸"],s2:["辛"],s3:["己"],s4:["戊"],s7:["庚"]},ruMuMap:{s1:["壬","辛"],s3:["甲","癸"],s7:["丁","己","庚"],s9:["乙","丙","戊"]},xjmMap:{s1:["壬"],s7:["庚"]},dunjia:""}},computed:{zs12Casc(){let e=Object.keys(this.zs12Map),a=e.map((a,t)=>{let s=[...e.slice(0,t),...e.slice(t+1)];s=s.map(e=>({label:e,value:e}));let n={label:a,value:a,children:s};return n});return a}},watch:{qCalcForm:{handler(e){let a={};for(let t in e){let s=t.split("_"),n=s[0],r=s[1],l=a[n];l||(a[n]={},l=a[n]),l[r]=e[t]}this.squareScoreMap=a},deep:!0}},mounted(){},methods:{getSquareScore(e){let a="s"+e,t=this.squareScoreMap[a],s=200,n={tianShi:"天时",diLi:"地利",renHe:"人和",shenZhu:"神助",zs12:"长生十二宫",diPanGan:"天干作用",menPo:"门迫",jiXing:"击刑",ruMu:"入墓",kongWang:"空亡"},r={};for(let i in t){let l=t[i],o=0;if(l&&l.length||1==l){if("tianShi"===i&&(o=this.tianShiMap[l].score,r[i]={type:n[i],value:l,score:o,mean:this.tianShiMap[l].mean}),"renHe"===i&&(o=this.renHeMap[l].score,r[i]={type:n[i],value:l,score:o,mean:this.renHeMap[l].mean},this.menPoMap[a].includes(l)&&(r["menPo"]={type:n["menPo"],value:`${l}在${this.squareNameMap[a]}宫`,score:-20,mean:"门克宫"},o+=-20)),"shenZhu"===i&&(o=this.shenZhuMap[l].score,r[i]={type:n[i],value:l,score:o,mean:this.shenZhuMap[l].mean}),"zs12"===i){let e=this.zs12Map[l[0]].score,a=l[1];a&&(e+=this.zs12Map[a].score),o=e/l.length,r[i]={type:n[i],value:l.join(""),score:o,mean:`${l[0]}:${this.zs12Map[l[0]].mean}${a?`,${a}:${this.zs12Map[a].mean}`:"?"}`}}if("sky"===i){let s=this.squareTypeMap[a],i=this.getTianGanwuxing(l),c=this.calcWxRelation(i,s,"diLi");o=c.score,r["diLi"]={type:n["diLi"],value:`我:${i},宫:${s}`,score:o,mean:c.text};let u=t["earth"];if(u){let e=this.getTianGanwuxing(u),a=this.calcWxRelation(e,i,"diPanGan"),t=a.score;r["diPanGan"]={type:n["diPanGan"],value:`天:${i},地:${e}`,score:o,mean:a.text},o+=t}if(this.jiXingMap[a]){let e=!1;if(e=this.jiXingMap[a].includes(l),e)r["jiXing"]={type:n["jiXing"],value:`${l}在${this.squareNameMap[a]}宫`,score:-20,mean:"天盘干击刑"},o+=-20;else if(u){let e=this.jiXingMap[a].includes(u);e&&(r["jiXing"]={type:n["jiXing"],value:`${u}在${this.squareNameMap[a]}宫`,score:-10,mean:"地盘干击刑"},o+=-10)}}if(this.ruMuMap[a]){let t=!1;if(t=this.ruMuMap[a].includes(l),t)r["ruMu"]={type:n["ruMu"],value:`${l}在${this.squareNameMap[a]}宫`,score:-30,mean:"天盘干入墓"},3===e&&this.dunjia&&(r["ruMu"].mean+=`(遁甲:${this.dunjia})`),o+=-30;else if(u){let t=this.ruMuMap[a].includes(u);t&&(r["ruMu"]={type:n["ruMu"],value:`${u}在${this.squareNameMap[a]}宫`,score:-15,mean:"地盘干入墓"},3===e&&this.dunjia&&(r["ruMu"].mean+=`(遁甲:${this.dunjia})`),o+=-15)}}}"kongWang"===i&&(r["kongWang"]={type:n["kongWang"],value:"是",score:-30,mean:""},o+=-30)}s+=o}let l=[{type:"基础分",score:200}];for(let i in n){let e=r[i];e&&l.push(e)}return this.sumDetailObj[e]=l,s},getTianGanwuxing(e){let a=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],t=["木","火","土","金","水"],s=a.indexOf(e),n=e=>e%2===0;return n(s)?t[s/2]:t[(s-1)/2]},calcWxRelation(e,a,t){let s=["木","火","土","金","水"],n=s.indexOf(e),r=[...s.slice(n),...s.slice(0,n)];n=0;let l=r.indexOf(a),i=Math.abs(n-l);if(!t)return i;if("diLi"===t){let e={0:{score:30,text:"我同宫--平顺有成(中吉)"},1:{score:0,text:"我生宫--多有消耗(小凶)"},2:{score:10,text:"我克宫--努力有得(小吉)"},3:{score:0,text:"宫克我--多阻无成(大凶)"},4:{score:30,text:"宫生我--得地支助(大吉)"}};return e[i]}if("diPanGan"===t){let e={0:{score:30,text:"地同天"},1:{score:30,text:"地生天"},2:{score:0,text:"地克天"},3:{score:20,text:"天克地"},4:{score:20,text:"天生地"}};return e[i]}},getTianGanColor(e,a){if(!a)return"";let t="s"+e,s=[this.xjmMap,this.jiXingMap,this.ruMuMap],n=s.find(e=>{let s=!1;return e[t]&&e[t].includes(a)&&(s=!0),s});if(n){let e=s.indexOf(n),a={0:"blue",1:"purple",2:"green"};return a[e]}return""},setDunjia(e){this.xjmMap.s3&&delete this.xjmMap.s3,e?(this.ruMuMap.s3.includes(e)||(this.ruMuMap.s3=["甲","癸",e]),"己"===e&&(this.xjmMap.s3=["己"])):this.ruMuMap.s3=["甲","癸"]}}}),c=o,u=t(1656),m=(0,u.A)(c,l,i,!1,null,null,null),p=m.exports,f={name:"App",components:{QiMen:p}},h=f,d=(0,u.A)(h,n,r,!1,null,null,null),v=d.exports,M=t(4927),g=t.n(M),b=t(4071),_=t.n(b);s["default"].config.productionTip=!1,s["default"].use(g()),s["default"].use(_()),new s["default"]({render:e=>e(v)}).$mount("#app")}},a={};function t(s){var n=a[s];if(void 0!==n)return n.exports;var r=a[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(a,s,n,r){if(!s){var l=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],r=e[u][2];for(var i=!0,o=0;o<s.length;o++)(!1&r||l>=r)&&Object.keys(t.O).every(function(e){return t.O[e](s[o])})?s.splice(o--,1):(i=!1,r<l&&(l=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(a=c)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var n,r,l=s[0],i=s[1],o=s[2],c=0;if(l.some(function(a){return 0!==e[a]})){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(o)var u=o(t)}for(a&&a(s);c<l.length;c++)r=l[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},s=self["webpackChunkqCalc"]=self["webpackChunkqCalc"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(13)});s=t.O(s)})();
//# sourceMappingURL=app.8d3fd515.js.map