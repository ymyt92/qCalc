(function(){"use strict";var e={9610:function(e,t,a){var l=a(2856),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._m(0),t("QiMen")],1)},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("p",[e._v("奇门遁甲计算器")])])}],r=function(){var e=this,t=e._self._c;return t("el-form",{attrs:{size:"mini",model:e.qCalcForm,"label-position":"left"}},[t("div",{staticClass:"qCalc"},e._l(9,function(a){return t("div",{class:["square","s"+a]},[5!==a?[t("div",{staticClass:"cell c1"},[t("p",{staticClass:"sum"},[e._v(e._s(e.getSquareScore(a)))]),t("el-popover",{attrs:{placement:"right-end",title:"计分详情",width:"450",trigger:"click"}},[t("el-table",{attrs:{data:e.sumDetailObj[a],border:"",stripe:""}},[t("el-table-column",{attrs:{label:"类型",prop:"type"}}),t("el-table-column",{attrs:{label:"值",prop:"value"}}),t("el-table-column",{attrs:{label:"分数",prop:"score"}}),t("el-table-column",{attrs:{label:"寓意",prop:"mean",width:"150"}})],1),t("i",{staticClass:"el-icon-view",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("div",{staticClass:"cell c2"},[t("el-form-item",[t("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${a}_shenZhu`],callback:function(t){e.$set(e.qCalcForm,`s${a}_shenZhu`,t)},expression:"qCalcForm[`s${s}_shenZhu`]"}},e._l(e.shenZhuMap,function(e,a){return t("el-option",{key:a,attrs:{label:a,value:a}})}),1)],1)],1),t("div",{staticClass:"cell c3"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.qCalcForm[`s${a}_kongWang`],expression:"qCalcForm[`s${s}_kongWang`]"}],staticClass:"circle"}),t("el-popover",{attrs:{placement:"bottom",title:"配置",width:"200",trigger:"click","append-to-body":!1}},[3===a?t("el-form-item",{attrs:{label:"遁甲","label-width":"40px"}},[t("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.setDunjia},model:{value:e.dunjia,callback:function(t){e.dunjia=t},expression:"dunjia"}},e._l(["戊","己","庚","辛","壬","癸"],function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1):e._e(),t("el-form-item",{attrs:{label:"空亡"}},[t("el-radio-group",{model:{value:e.qCalcForm[`s${a}_kongWang`],callback:function(t){e.$set(e.qCalcForm,`s${a}_kongWang`,t)},expression:"qCalcForm[`s${s}_kongWang`]"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),t("el-radio",{attrs:{label:void 0}},[e._v("否")])],1)],1),t("i",{staticClass:"hai-setting el-icon-setting",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("div",{staticClass:"cell c4"}),t("div",{staticClass:"cell c5"},[t("el-form-item",[t("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${a}_tianShi`],callback:function(t){e.$set(e.qCalcForm,`s${a}_tianShi`,t)},expression:"qCalcForm[`s${s}_tianShi`]"}},e._l(e.tianShiMap,function(e,a){return t("el-option",{key:a,attrs:{label:a,value:a}})}),1)],1),t("span",{staticClass:"square-type"},[e._v(e._s(e.squareTypeMap["s"+a]))])],1),t("div",{staticClass:"cell c6"},[t("el-form-item",[t("el-cascader",{attrs:{options:e.zs12Casc,props:{checkStrictly:!0},clearable:""},scopedSlots:e._u([{key:"default",fn:function({node:a,data:l}){return[t("span",[e._v(e._s(l.label))]),t("span",{class:{red:e.zs12Map[l.label]>0}},[e._v("  "+e._s(e.zs12Map[l.label]))])]}}],null,!0),model:{value:e.qCalcForm[`s${a}_zs12`],callback:function(t){e.$set(e.qCalcForm,`s${a}_zs12`,t)},expression:"qCalcForm[`s${s}_zs12`]"}})],1),t("el-form-item",{class:e.getTianGanColor(a,e.qCalcForm[`s${a}_sky`])},[t("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${a}_sky`],callback:function(t){e.$set(e.qCalcForm,`s${a}_sky`,t)},expression:"qCalcForm[`s${s}_sky`]"}},e._l(e.tianganMap,function(l,s){return t("el-option",{key:s,class:e.getTianGanColor(a,s),attrs:{label:s,value:s}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(s))]),t("span",{staticStyle:{float:"right"}},[e._v(e._s(l))])])}),1)],1)],1),t("div",{staticClass:"cell c7"}),t("div",{staticClass:"cell c8"},[t("el-form-item",{class:{red:e.menPoMap["s"+a].includes(e.qCalcForm[`s${a}_renHe`])}},[t("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${a}_renHe`],callback:function(t){e.$set(e.qCalcForm,`s${a}_renHe`,t)},expression:"qCalcForm[`s${s}_renHe`]"}},e._l(e.renHeMap,function(l,s){return t("el-option",{key:s,class:{red:e.menPoMap["s"+a].includes(s)},attrs:{label:s,value:s}})}),1)],1)],1),t("div",{staticClass:"cell c9"},[t("el-form-item",{class:e.getTianGanColor(a,e.qCalcForm[`s${a}_earth`])},[t("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${a}_earth`],callback:function(t){e.$set(e.qCalcForm,`s${a}_earth`,t)},expression:"qCalcForm[`s${s}_earth`]"}},e._l(e.tianganMap,function(l,s){return t("el-option",{key:s,class:e.getTianGanColor(a,s),attrs:{label:s,value:s}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(s))]),t("span",{staticStyle:{float:"right"}},[e._v(e._s(l))])])}),1)],1)],1)]:e._e()],2)}),0)])},i=[],o=(a(4114),a(8111),a(1701),{data(){return{qCalcForm:{},squareScoreMap:{},sumDetailObj:{},shenZhuMap:{"值符":20,"太阴":20,"六合":20,"九天":20,"腾蛇":0,"白虎":0,"玄武":0,"九地":0},tianShiMap:{"天任星":20,"天冲星":20,"天辅星":20,"天心星":20,"天禽星":20,"天蓬星":0,"天英星":0,"天芮星":0,"天柱星":0},renHeMap:{"休门":30,"生门":30,"开门":30,"杜门":0,"景门":0,"死门":0,"惊门":0,"伤门":0},tianganMap:{"甲":"阳木","乙":"阴木","丙":"阳火","丁":"阴火","戊":"阳土","己":"阴土","庚":"阳金","辛":"阴金","壬":"阳水","癸":"阴水"},zs12Map:{"长":30,"沐":30,"冠":30,"临":30,"旺":30,"衰":20,"病":20,"死":20,"墓":0,"绝":10,"胎":10,"养":10},cellCalcMap:{c2:"shenZhuMap",c5:"tianShiMap",c6:"zs12Map",c8:"renHeMap"},wuxing:["木","火","土","金","水"],squareTypeMap:{s1:"木",s2:"火",s3:"土",s4:"木",s5:"土",s6:"金",s7:"土",s8:"水",s9:"金"},menPoMap:{s1:["开门","惊门"],s2:["休门"],s3:["伤门","杜门"],s4:["开门","惊门"],s6:["景门"],s7:["伤门","杜门"],s8:["生门","死门"],s9:["景门"]},jiXingMap:{s1:["壬","癸"],s2:["辛"],s3:["己"],s4:["戊"],s7:["庚"]},ruMuMap:{s1:["壬","辛"],s3:["甲","癸"],s7:["丁","己","庚"],s9:["乙","丙","戊"]},xjmMap:{s1:["壬"],s7:["庚"]},dunjia:""}},computed:{zs12Casc(){let e=Object.keys(this.zs12Map),t=e.map((t,a)=>{let l=[...e.slice(0,a),...e.slice(a+1)];l=l.map(e=>({label:e,value:e}));let s={label:t,value:t,children:l};return s});return t}},watch:{qCalcForm:{handler(e){let t={};for(let a in e){let l=a.split("_"),s=l[0],n=l[1],r=t[s];r||(t[s]={},r=t[s]),r[n]=e[a]}this.squareScoreMap=t},deep:!0}},mounted(){},methods:{getSquareScore(e){let t="s"+e,a=this.squareScoreMap[t],l=200,s={tianShi:"天时",diLi:"地利",renHe:"人和",shenZhu:"神助",zs12:"长生十二宫",diPanGan:"天干作用",menPo:"门迫",jiXing:"击刑",ruMu:"入墓",kongWang:"空亡"},n={},r=["tianShi","renHe","shenZhu"];for(let o in a){let e=a[o],i=0;if(e&&e.length||1==e){if(r.includes(o)&&(i=this[`${o}Map`][e],n[o]={type:s[o],value:e,score:i,mean:""},"renHe"===o&&this.menPoMap[t].includes(e)&&(n["menPo"]={type:s["menPo"],value:"门克宫",score:-20,mean:""},i+=-20)),"zs12"===o){let t=this.zs12Map[e[0]],a=e[1];a&&(t+=this.zs12Map[a]),i=t/e.length,n[o]={type:s[o],value:e.join(""),score:i,mean:""}}if("sky"===o){let l=this.squareTypeMap[t],r=this.getTianGanwuxing(e),o=this.calcWxRelation(r,l,"diLi");i=o.score,n["diLi"]={type:s["diLi"],value:o.text.split("--")[0],score:i,mean:o.text.split("--")[1]};let c=a["earth"];if(c){let e=this.getTianGanwuxing(c),t=this.calcWxRelation(e,r,"diPanGan"),a=t.score;n["diPanGan"]={type:s["diPanGan"],value:t.text,score:i,mean:""},i+=a}if(this.jiXingMap[t]){let a=!1;if(a=this.jiXingMap[t].includes(e),a)n["jiXing"]={type:s["jiXing"],value:"天盘干击刑",score:-20,mean:""},i+=-20;else if(c){let e=this.jiXingMap[t].includes(c);e&&(n["jiXing"]={type:s["jiXing"],value:"地盘干击刑",score:-10,mean:""},i+=-10)}}if(this.ruMuMap[t]){let a=!1;if(a=this.ruMuMap[t].includes(e),a)n["ruMu"]={type:s["ruMu"],value:"天盘干入墓",score:-30,mean:""},i+=-30;else if(c){let e=this.ruMuMap[t].includes(c);e&&(n["ruMu"]={type:s["ruMu"],value:"地盘干入墓",score:-15,mean:""},i+=-15)}}}"kongWang"===o&&(n["kongWang"]={type:s["kongWang"],value:"是",score:-30,mean:""},i+=-30)}l+=i}let i=[{type:"基础分",score:200}];for(let o in s){let e=n[o];e&&i.push(e)}return this.sumDetailObj[e]=i,l},getTianGanwuxing(e){let t=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a=["木","火","土","金","水"],l=t.indexOf(e),s=e=>e%2===0;return s(l)?a[l/2]:a[(l-1)/2]},calcWxRelation(e,t,a){let l=["木","火","土","金","水"],s=l.indexOf(e),n=[...l.slice(s),...l.slice(0,s)];s=0;let r=n.indexOf(t),i=Math.abs(s-r);if(!a)return i;if("diLi"===a){let e={0:{score:30,text:"我同宫--平顺有成(中吉)"},1:{score:0,text:"我生宫--多有消耗(小凶)"},2:{score:10,text:"我克宫--努力有得(小吉)"},3:{score:0,text:"宫克我--多阻无成(大凶)"},4:{score:30,text:"宫生我--得地支助(大吉)"}};return e[i]}if("diPanGan"===a){let e={0:{score:30,text:"地同天"},1:{score:30,text:"地生天"},2:{score:0,text:"地克天"},3:{score:20,text:"天克地"},4:{score:20,text:"天生地"}};return e[i]}},getTianGanColor(e,t){if(!t)return"";let a="s"+e,l=[this.xjmMap,this.jiXingMap,this.ruMuMap],s=l.find(e=>{let l=!1;return e[a]&&e[a].includes(t)&&(l=!0),l});if(s){let e=l.indexOf(s),t={0:"blue",1:"purple",2:"green"};return t[e]}return""},setDunjia(e){this.xjmMap.s3&&delete this.xjmMap.s3,e?(this.ruMuMap.s3.includes(e)||this.ruMuMap.s3.push(e),(e="己")&&(this.xjmMap.s3=["己"])):this.ruMuMap.s3=["甲","癸"]}}}),c=o,u=a(1656),p=(0,u.A)(c,r,i,!1,null,null,null),f=p.exports,d={name:"App",components:{QiMen:f}},m=d,h=(0,u.A)(m,s,n,!1,null,null,null),v=h.exports,g=a(4927),b=a.n(g),M=a(4071),_=a.n(M);l["default"].config.productionTip=!1,l["default"].use(b()),l["default"].use(_()),new l["default"]({render:e=>e(v)}).$mount("#app")}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var n=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,l,s,n){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,o=0;o<l.length;o++)(!1&n||r>=n)&&Object.keys(a.O).every(function(e){return a.O[e](l[o])})?l.splice(o--,1):(i=!1,n<r&&(r=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,n,r=l[0],i=l[1],o=l[2],c=0;if(r.some(function(t){return 0!==e[t]})){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(o)var u=o(a)}for(t&&t(l);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},l=self["webpackChunkqCalc"]=self["webpackChunkqCalc"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(9610)});l=a.O(l)})();
//# sourceMappingURL=app.9731a680.js.map