(function(){"use strict";var e={6702:function(e,a,t){var s=t(2856),n=function(){var e=this,a=e._self._c;return a("div",{attrs:{id:"app"}},[e._m(0),a("QiMen")],1)},l=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"header"},[a("p",[e._v("奇门遁甲计算器")])])}],r=function(){var e=this,a=e._self._c;return a("el-form",{attrs:{size:"mini",model:e.qCalcForm,"label-position":"left"}},[a("div",{staticClass:"qCalc"},e._l(9,function(t){return a("div",{class:["square","s"+t]},[5!==t?[a("div",{staticClass:"cell c1"},[a("p",{staticClass:"sum"},[e._v(e._s(e.getSquareScore(t)))]),a("el-popover",{attrs:{placement:"right-end",title:"计分详情",width:"480",trigger:"click"}},[a("el-table",{attrs:{data:e.sumDetailObj[t],border:"",stripe:""}},[a("el-table-column",{attrs:{label:"类型",prop:"type"}}),a("el-table-column",{attrs:{label:"值",prop:"value"}}),a("el-table-column",{attrs:{label:"分数",prop:"score"}}),a("el-table-column",{attrs:{label:"备注",prop:"mean",width:"180"}})],1),a("i",{staticClass:"el-icon-view",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"cell c2"},[a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_shenZhu`],callback:function(a){e.$set(e.qCalcForm,`s${t}_shenZhu`,a)},expression:"qCalcForm[`s${s}_shenZhu`]"}},e._l(e.shenZhuMap,function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),a("div",{staticClass:"cell c3"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.qCalcForm[`s${t}_kongWang`],expression:"qCalcForm[`s${s}_kongWang`]"}],staticClass:"circle"}),a("el-popover",{attrs:{placement:"bottom",title:"配置",width:"200",trigger:"click","append-to-body":!1}},[3===t?a("el-form-item",{attrs:{label:"遁甲","label-width":"40px"}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.setDunjia},model:{value:e.dunjia,callback:function(a){e.dunjia=a},expression:"dunjia"}},e._l(["戊","己","庚","辛","壬","癸"],function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1):e._e(),a("el-form-item",{attrs:{label:"空亡"}},[a("el-radio-group",{model:{value:e.qCalcForm[`s${t}_kongWang`],callback:function(a){e.$set(e.qCalcForm,`s${t}_kongWang`,a)},expression:"qCalcForm[`s${s}_kongWang`]"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:void 0}},[e._v("否")])],1)],1),a("i",{staticClass:"hai-setting el-icon-setting",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"cell c4"}),a("div",{staticClass:"cell c5"},[a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_tianShi`],callback:function(a){e.$set(e.qCalcForm,`s${t}_tianShi`,a)},expression:"qCalcForm[`s${s}_tianShi`]"}},e._l(e.tianShiMap,function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("span",{staticClass:"square-type"},[e._v(e._s(e.squareNameMap["s"+t]))])],1),a("div",{staticClass:"cell c6"},[a("el-form-item",[a("el-cascader",{attrs:{options:e.zs12Casc,props:{checkStrictly:!0},clearable:""},scopedSlots:e._u([{key:"default",fn:function({node:t,data:s}){return[a("span",[e._v(e._s(s.label))]),a("span",{class:{red:e.zs12Map[s.label]>0}},[e._v("  "+e._s(e.zs12Map[s.label]))])]}}],null,!0),model:{value:e.qCalcForm[`s${t}_zs12`],callback:function(a){e.$set(e.qCalcForm,`s${t}_zs12`,a)},expression:"qCalcForm[`s${s}_zs12`]"}})],1),a("el-form-item",{class:e.getTianGanColor(t,e.qCalcForm[`s${t}_sky`])},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_sky`],callback:function(a){e.$set(e.qCalcForm,`s${t}_sky`,a)},expression:"qCalcForm[`s${s}_sky`]"}},e._l(e.tianganMap,function(s,n){return a("el-option",{key:n,class:e.getTianGanColor(t,n),attrs:{label:n,value:n}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(n))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(s))])])}),1)],1)],1),a("div",{staticClass:"cell c7"}),a("div",{staticClass:"cell c8"},[a("el-form-item",{class:{red:e.menPoMap["s"+t].includes(e.qCalcForm[`s${t}_renHe`])}},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_renHe`],callback:function(a){e.$set(e.qCalcForm,`s${t}_renHe`,a)},expression:"qCalcForm[`s${s}_renHe`]"}},e._l(e.renHeMap,function(s,n){return a("el-option",{key:n,class:{red:e.menPoMap["s"+t].includes(n)},attrs:{label:n,value:n}})}),1)],1)],1),a("div",{staticClass:"cell c9"},[a("el-form-item",{class:e.getTianGanColor(t,e.qCalcForm[`s${t}_earth`])},[a("el-select",{attrs:{clearable:""},model:{value:e.qCalcForm[`s${t}_earth`],callback:function(a){e.$set(e.qCalcForm,`s${t}_earth`,a)},expression:"qCalcForm[`s${s}_earth`]"}},e._l(e.tianganMap,function(s,n){return a("el-option",{key:n,class:e.getTianGanColor(t,n),attrs:{label:n,value:n}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(n))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(s))])])}),1)],1)],1)]:e._e()],2)}),0)])},i=[],o=(t(4114),t(8111),t(1701),{data(){return{qCalcForm:{},squareScoreMap:{},sumDetailObj:{},shenZhuMap:{"值符":{mean:"吉神",score:20},"太阴":{mean:"吉神",score:20},"六合":{mean:"吉神",score:20},"九天":{mean:"吉神",score:20},"腾蛇":{mean:"凶神",score:0},"白虎":{mean:"凶神",score:0},"玄武":{mean:"凶神",score:0},"九地":{mean:"吉神",score:0}},tianShiMap:{"天任星":{mean:"吉星",score:20},"天冲星":{mean:"吉星",score:20},"天辅星":{mean:"吉星",score:20},"天心星":{mean:"吉星",score:20},"天禽星":{mean:"吉星",score:20},"天蓬星":{mean:"凶星",score:0},"天英星":{mean:"凶星",score:0},"天芮星":{mean:"凶星",score:0},"天柱星":{mean:"凶星",score:0}},renHeMap:{"休门":{mean:"吉门",score:30},"生门":{mean:"吉门",score:30},"开门":{mean:"吉门",score:30},"杜门":{mean:"平门",score:0},"景门":{mean:"平门",score:0},"死门":{mean:"凶门",score:0},"惊门":{mean:"凶门",score:0},"伤门":{mean:"凶门",score:0}},tianganMap:{"甲":"阳木","乙":"阴木","丙":"阳火","丁":"阴火","戊":"阳土","己":"阴土","庚":"阳金","辛":"阴金","壬":"阳水","癸":"阴水"},zs12Map:{"长":30,"沐":30,"冠":30,"临":30,"旺":30,"衰":20,"病":20,"死":20,"墓":0,"绝":10,"胎":10,"养":10},wuxing:["木","火","土","金","水"],squareTypeMap:{s1:"木",s2:"火",s3:"土",s4:"木",s5:"土",s6:"金",s7:"土",s8:"水",s9:"金"},squareNameMap:{s1:"巽",s2:"离",s3:"坤",s4:"震",s5:"中",s6:"兑",s7:"艮",s8:"艮",s9:"乾"},menPoMap:{s1:["开门","惊门"],s2:["休门"],s3:["伤门","杜门"],s4:["开门","惊门"],s6:["景门"],s7:["伤门","杜门"],s8:["生门","死门"],s9:["景门"]},jiXingMap:{s1:["壬","癸"],s2:["辛"],s3:["己"],s4:["戊"],s7:["庚"]},ruMuMap:{s1:["壬","辛"],s3:["甲","癸"],s7:["丁","己","庚"],s9:["乙","丙","戊"]},xjmMap:{s1:["壬"],s7:["庚"]},dunjia:""}},computed:{zs12Casc(){let e=Object.keys(this.zs12Map),a=e.map((a,t)=>{let s=[...e.slice(0,t),...e.slice(t+1)];s=s.map(e=>({label:e,value:e}));let n={label:a,value:a,children:s};return n});return a}},watch:{qCalcForm:{handler(e){let a={};for(let t in e){let s=t.split("_"),n=s[0],l=s[1],r=a[n];r||(a[n]={},r=a[n]),r[l]=e[t]}this.squareScoreMap=a},deep:!0}},mounted(){},methods:{getSquareScore(e){let a="s"+e,t=this.squareScoreMap[a],s=200,n={tianShi:"天时",diLi:"地利",renHe:"人和",shenZhu:"神助",zs12:"长生十二宫",diPanGan:"天干作用",menPo:"门迫",jiXing:"击刑",ruMu:"入墓",kongWang:"空亡"},l={};for(let i in t){let r=t[i],o=0;if(r&&r.length||1==r){if("tianShi"===i&&(o=this.tianShiMap[r].score,l[i]={type:n[i],value:r,score:o,mean:this.tianShiMap[r].mean}),"renHe"===i&&(o=this.renHeMap[r].score,l[i]={type:n[i],value:r,score:o,mean:this.renHeMap[r].mean},this.menPoMap[a].includes(r)&&(l["menPo"]={type:n["menPo"],value:`${r}在${this.squareNameMap[a]}宫`,score:-20,mean:"门克宫"},o+=-20)),"shenZhu"===i&&(o=this.shenZhuMap[r].score,l[i]={type:n[i],value:r,score:o,mean:this.shenZhuMap[r].mean}),"zs12"===i){let e=this.zs12Map[r[0]],a=r[1];a&&(e+=this.zs12Map[a]),o=e/r.length,l[i]={type:n[i],value:r.join(""),score:o,mean:""}}if("sky"===i){let s=this.squareTypeMap[a],i=this.getTianGanwuxing(r),c=this.calcWxRelation(i,s,"diLi");o=c.score,l["diLi"]={type:n["diLi"],value:`我:${i},宫:${s}`,score:o,mean:c.text};let u=t["earth"];if(u){let e=this.getTianGanwuxing(u),a=this.calcWxRelation(e,i,"diPanGan"),t=a.score;l["diPanGan"]={type:n["diPanGan"],value:`天:${i},地:${e}`,score:o,mean:a.text},o+=t}if(this.jiXingMap[a]){let e=!1;if(e=this.jiXingMap[a].includes(r),e)l["jiXing"]={type:n["jiXing"],value:`${r}在${this.squareNameMap[a]}宫`,score:-20,mean:"天盘干击刑"},o+=-20;else if(u){let e=this.jiXingMap[a].includes(u);e&&(l["jiXing"]={type:n["jiXing"],value:`${u}在${this.squareNameMap[a]}宫`,score:-10,mean:"地盘干击刑"},o+=-10)}}if(this.ruMuMap[a]){let t=!1;if(t=this.ruMuMap[a].includes(r),t)l["ruMu"]={type:n["ruMu"],value:`${r}在${this.squareNameMap[a]}宫`,score:-30,mean:"天盘干入墓"},3===e&&this.dunjia&&(l["ruMu"].mean+=`(遁甲:${this.dunjia})`),o+=-30;else if(u){let t=this.ruMuMap[a].includes(u);t&&(l["ruMu"]={type:n["ruMu"],value:`${u}在${this.squareNameMap[a]}宫`,score:-15,mean:"地盘干入墓"},3===e&&this.dunjia&&(l["ruMu"].mean+=`(遁甲:${this.dunjia})`),o+=-15)}}}"kongWang"===i&&(l["kongWang"]={type:n["kongWang"],value:"是",score:-30,mean:""},o+=-30)}s+=o}let r=[{type:"基础分",score:200}];for(let i in n){let e=l[i];e&&r.push(e)}return this.sumDetailObj[e]=r,s},getTianGanwuxing(e){let a=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],t=["木","火","土","金","水"],s=a.indexOf(e),n=e=>e%2===0;return n(s)?t[s/2]:t[(s-1)/2]},calcWxRelation(e,a,t){let s=["木","火","土","金","水"],n=s.indexOf(e),l=[...s.slice(n),...s.slice(0,n)];n=0;let r=l.indexOf(a),i=Math.abs(n-r);if(!t)return i;if("diLi"===t){let e={0:{score:30,text:"我同宫--平顺有成(中吉)"},1:{score:0,text:"我生宫--多有消耗(小凶)"},2:{score:10,text:"我克宫--努力有得(小吉)"},3:{score:0,text:"宫克我--多阻无成(大凶)"},4:{score:30,text:"宫生我--得地支助(大吉)"}};return e[i]}if("diPanGan"===t){let e={0:{score:30,text:"地同天"},1:{score:30,text:"地生天"},2:{score:0,text:"地克天"},3:{score:20,text:"天克地"},4:{score:20,text:"天生地"}};return e[i]}},getTianGanColor(e,a){if(!a)return"";let t="s"+e,s=[this.xjmMap,this.jiXingMap,this.ruMuMap],n=s.find(e=>{let s=!1;return e[t]&&e[t].includes(a)&&(s=!0),s});if(n){let e=s.indexOf(n),a={0:"blue",1:"purple",2:"green"};return a[e]}return""},setDunjia(e){this.xjmMap.s3&&delete this.xjmMap.s3,e?(this.ruMuMap.s3.includes(e)||(this.ruMuMap.s3=["甲","癸",e]),"己"===e&&(this.xjmMap.s3=["己"])):this.ruMuMap.s3=["甲","癸"]}}}),c=o,u=t(1656),p=(0,u.A)(c,r,i,!1,null,null,null),m=p.exports,f={name:"App",components:{QiMen:m}},d=f,h=(0,u.A)(d,n,l,!1,null,null,null),v=h.exports,M=t(4927),g=t.n(M),b=t(4071),_=t.n(b);s["default"].config.productionTip=!1,s["default"].use(g()),s["default"].use(_()),new s["default"]({render:e=>e(v)}).$mount("#app")}},a={};function t(s){var n=a[s];if(void 0!==n)return n.exports;var l=a[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(a,s,n,l){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],l=e[u][2];for(var i=!0,o=0;o<s.length;o++)(!1&l||r>=l)&&Object.keys(t.O).every(function(e){return t.O[e](s[o])})?s.splice(o--,1):(i=!1,l<r&&(r=l));if(i){e.splice(u--,1);var c=n();void 0!==c&&(a=c)}}return a}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,n,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var n,l,r=s[0],i=s[1],o=s[2],c=0;if(r.some(function(a){return 0!==e[a]})){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(o)var u=o(t)}for(a&&a(s);c<r.length;c++)l=r[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(u)},s=self["webpackChunkqCalc"]=self["webpackChunkqCalc"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(6702)});s=t.O(s)})();
//# sourceMappingURL=app.b7fcd580.js.map